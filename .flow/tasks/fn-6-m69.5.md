# fn-6-m69.5 Sync dispatch with direct event-ID calls & 404 fallback

## Description
Update the sync dispatch in `pipeline.py` to use direct event-ID API calls when `existing_event_id` is present, with 404 fallback logic.

**Files to modify:**
- `src/cal_ai/pipeline.py` — Update `_sync_single_event()` to use `id_map` for reverse lookup. When `existing_event_id` is set: update→`update_event(real_id, event)`, delete→`delete_event(real_id)`. On 404: update→fallback to `create_event()`, delete→skip with warning.
- `tests/unit/test_pipeline.py` — Add sync dispatch tests for ID-based update, ID-based delete, 404 fallback scenarios.

**Sync dispatch logic:**
```
action=create → create_event(event)  [unchanged]
action=update + existing_event_id → update_event(id_map[eid], event)
  on 404 → fallback to create_event(event), log warning
action=update + no existing_event_id → find_and_update_event(event)  [unchanged]
action=delete + existing_event_id → delete_event(id_map[eid])
  on 404 → skip with warning, not an error
action=delete + no existing_event_id → find_and_delete_event(event)  [unchanged]
```

**Key decisions:**
- Import `CalendarNotFoundError` to catch 404 specifically.
- 404 on update = event was deleted since context fetch → create instead (safe fallback).
- 404 on delete = event already gone → success (idempotent).
- Log matched event info in sync results for demo output.
## Acceptance
- [ ] Direct `update_event(id, event)` called when `existing_event_id` present for updates
- [ ] Direct `delete_event(id)` called when `existing_event_id` present for deletes
- [ ] 404 on update falls back to create with warning
- [ ] 404 on delete treated as success (idempotent)
- [ ] Fallback to search-based methods when no `existing_event_id`
- [ ] `id_map` reverse lookup correctly maps integer→UUID
- [ ] New tests for all dispatch paths including 404 fallbacks
- [ ] All existing sync tests still pass
- [ ] ruff clean
## Done summary
Updated sync dispatch in pipeline.py to use direct event-ID API calls (update_event/delete_event) when existing_event_id is present with id_map reverse lookup, with CalendarNotFoundError (404) fallback logic: update falls back to create, delete treated as idempotent success. Added 7 new unit tests covering all dispatch paths.
## Evidence
- Commits: 061f82a5b9992f5174c1d8941ae1645ac062e3f3
- Tests: python3 -m pytest tests/unit/test_pipeline.py -v --tb=short, python3 -m pytest --tb=short -q, python3 -m ruff check .
- PRs: